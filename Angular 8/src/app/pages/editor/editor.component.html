<div class="uk-flex-center" uk-grid>
  <div class="uk-width-1-2@m">
    <div class="uk-card uk-card-default uk-card-body">
        <h3 class="uk-card-title">Cadastro</h3>
        <form [formGroup]="form">
            <div class="uk-margin">
                <input type="text" 
                       mask="NN-NNN"
                       class="uk-input uk-form-large" 
                       placeholder="Código" 
                       formControlName="codigo"
                       [ngClass]="{'uk-form-danger': (!form.controls.codigo.valid && !form.controls.codigo.pristine)}">
                <span class="uk-text-danger" 
                      *ngIf="form.controls.codigo.invalid && !form.controls.codigo.pristine">
                    Código inválido
                </span>
            </div>

            <div class="uk-margin">
                <input type="text" 
                       class="uk-input uk-form-large" 
                       placeholder="Título" 
                       formControlName="titulo"
                       [ngClass]="{'uk-form-danger': (!form.controls.titulo.valid && !form.controls.titulo.pristine)}">
                <span class="uk-text-danger" 
                      *ngIf="form.controls.titulo.invalid && !form.controls.titulo.pristine">
                    Título inválido
                </span>
            </div>
            
            <div class="uk-margin">
                <input type="number" 
                       min="0"
                       class="uk-input uk-form-large"
                       placeholder="Preço" 
                       formControlName="preco"
                       [ngClass]="{'is-invalid': (!form.controls.preco.valid && !form.controls.preco.pristine)}">
                <span class="uk-text-danger" 
                      *ngIf="form.controls.preco.invalid && !form.controls.preco.pristine">
                    Preço inválido
                </span>
            </div>

            <div class="uk-margin">
                <textarea rows="3" 
                          class="uk-input uk-form-large"
                          placeholder="Descrição" 
                          formControlName="descricao"
                          [ngClass]="{'is-invalid': (!form.controls.descricao.valid && !form.controls.descricao.pristine)}">
                </textarea>
                <span class="uk-text-danger" 
                      *ngIf="form.controls.descricao.invalid && !form.controls.descricao.pristine">
                    Descrição obrigatória
                </span>
            </div>

            <div class="uk-margin">
                <input type="number" 
                       min="0"
                       class="uk-input uk-form-large"
                       placeholder="Quantidade" 
                       formControlName="quantidade"
                       [ngClass]="{'is-invalid': (!form.controls.quantidade.valid && !form.controls.quantidade.pristine)}">
                <span class="uk-text-danger" 
                      *ngIf="form.controls.quantidade.invalid && !form.controls.quantidade.pristine">
                    Quantidade inválida
                </span>
            </div>

            <div class="uk-margin">
                <select class="uk-input uk-form-large"
                        formControlName="categoria">
                    <option value="" disabled selected>Categoria</option>
                    <option value="{{ item.codigo }}" *ngFor="let item of categorias">
                        {{ item.descricao }}
                    </option>
                </select>
            </div>
        </form>
        <div class="uk-margin uk-text-right">
            <button class="uk-button uk-button-secondary" 
                    (click)="voltar()">
                Voltar
            </button>
            <button class="uk-button uk-button-primary" 
                    [disabled]="form.invalid" 
                    (click)="submit()">
                Salvar
            </button>
        </div>
    </div>
  </div>
</div>
